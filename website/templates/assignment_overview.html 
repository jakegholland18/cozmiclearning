<!DOCTYPE html>
<html>
<head>
    <title>Assignment Overview</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body class="fade-in">

<div class="page-title">{{ assignment.title }}</div>

<div class="content-box">

    <p><strong>Class:</strong> {{ assignment.class_ref.class_name }}</p>
    <p><strong>Subject:</strong> {{ assignment.subject|title }}</p>
    <p><strong>Topic:</strong> {{ assignment.topic }}</p>

    {% if assignment.instructions %}
    <p><strong>Instructions:</strong> {{ assignment.instructions }}</p>
    {% endif %}

    {% if assignment.due_date %}
    <p><strong>Due:</strong> {{ assignment.due_date.strftime("%B %d, %Y") }}</p>
    {% endif %}

    <a class="btn-blue" href="/teacher/add_question/{{ assignment.id }}">âž• Add Question</a>

    <hr>

    <h2>Questions</h2>

    {% if questions %}
        {% for q in questions %}
        <div class="question-item">

            <h3>Question {{ loop.index }}</h3>
            <p>{{ q.question_text }}</p>

            {% if q.question_type == "multiple_choice" %}
            <ul>
                <li>A. {{ q.choice_a }}</li>
                <li>B. {{ q.choice_b }}</li>
                <li>C. {{ q.choice_c }}</li>
                <li>D. {{ q.choice_d }}</li>
            </ul>
            <p><strong>Correct Answer:</strong> {{ q.correct_answer }}</p>
            {% endif %}

            {% if q.explanation %}
            <p><strong>Explanation:</strong> {{ q.explanation }}</p>
            {% endif %}

            <p><strong>Difficulty:</strong> {{ q.difficulty_level|title }}</p>

            <div class="btn-row">
                <a class="btn-blue" href="/teacher/edit_question/{{ q.id }}">Edit</a>
                <a class="btn-red" href="/teacher/delete_question/{{ q.id }}" onclick="return confirm('Delete this question?')">Delete</a>
            </div>

        </div>
        <hr>
        {% endfor %}
    {% else %}
        <p>No questions added yet.</p>
    {% endif %}

    <a class="btn-gray" href="/teacher/dashboard">Back to Dashboard</a>

</div>

</body>
</html>
