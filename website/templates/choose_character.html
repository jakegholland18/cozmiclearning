{% extends "layout.html" %}
{% block content %}

<h1 class="page-title fade-in">Choose Your Study Buddy</h1>

<div class="character-grid fade-in">

    {% for id, char in characters.items() %}
    <div class="character-card" onclick="selectCharacter('{{ id }}')">
        
        <!-- FIXED: Correct image path -->
        <img src="/static/characters/{{ id }}.png" 
             class="character-img character-float">

        <div class="character-name">
            {{ char.name }}
        </div>
    </div>
    {% endfor %}

</div>

<script>
function selectCharacter(id) {
    fetch("/select-character", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: "character=" + id
    })
    .then(res => {
        if (res.ok) {
            window.location.href = "/dashboard";
        } else {
            alert("Error selecting character.");
        }
    })
}
</script>

{% endblock %}







